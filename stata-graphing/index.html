<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Andy Grogan-Kaylor" />
  <title>Data Visualization With Stata</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!-- configuration parameters -->
  <meta name="defaultView" content="slideshow" />
  <meta name="controlVis" content="hidden" />
  <!-- style sheet links -->
  <link rel="stylesheet" href="c:/ado/plus/m/s5/santiago/slides.css" type="text/css" media="projection" id="slideProj" />
  <link rel="stylesheet" href="c:/ado/plus/m/s5/santiago/outline.css" type="text/css" media="screen" id="outlineStyle" />
  <link rel="stylesheet" href="c:/ado/plus/m/s5/santiago/print.css" type="text/css" media="print" id="slidePrint" />
  <link rel="stylesheet" href="c:/ado/plus/m/s5/santiago/opera.css" type="text/css" media="projection" id="operaFix" />
  <!-- S5 JS -->
  <script src="c:/ado/plus/m/s5/santiago/slides.js" type="text/javascript"></script>
</head>
<body>
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header"></div>
<div id="footer">
  <h1>23 Feb 2020 15:17:48</h1>
  <h2>Data Visualization With Stata</h2>
</div>
</div>
<div class="presentation">
<div class="titleslide slide">
  <h1>Data Visualization With Stata</h1>
  <h2>Andy Grogan-Kaylor</h2>
  <h3>23 Feb 2020 15:17:48</h3>
</div>
<div id="introduction" class="slide section level1">
<h1>Introduction</h1>
<style> code {color: red;} .slide code {color: red;}</style>
<ul class="incremental">
<li>Stata is a powerful and intuitive data analysis program.</li>
<li>Learning how to graph in Stata is an important part of learning how to use Stata. Yet, the default graphs in Stata can sometimes be less than optimal.</li>
<li>This document is an introduction to (a) basic graphing ideas in Stata; and (b) some simple ways to make your Stata graphs look more professional.</li>
<li>If this document is presented as slides, navigation links are in the corner of this slide deck.</li>
<li>If this document is presented as slides, you can generate a printable version of these slides, by clicking on the &quot;Ø&quot;.</li>
</ul>
</div>
<div id="what-are-variables" class="slide section level1">
<h1>What are Variables?</h1>
<ul class="incremental">
<li>By variables, I simply mean the columns of data that you have.</li>
<li>For our purposes, you may think of variables as synonymous with questionnaire items, or columns of data.</li>
</ul>
</div>
<div id="variable-types" class="slide section level1">
<h1>Variable Types</h1>
<ul class="incremental">
<li><em>categorical variables</em> represent unordered categories like <em>neighborhood</em>, or <em>religious affiliation</em>, or <em>place of residence</em>.</li>
<li><em>continuous variables</em> represent a continuous scale like a <em>mental health scale</em>, or a <em>measure of life expectancy</em>.</li>
</ul>
</div>
<div id="a-data-visualization-strategy" class="slide section level1">
<h1>A Data Visualization Strategy</h1>
<p>Once we have discerned the type of variable that have, there are two followup questions we may ask before deciding upon a chart strategy:</p>
<ul class="incremental">
<li>Is our graph about <strong>one thing at a time</strong>?
<ul class="incremental">
<li>How much of <em>x</em> is there?</li>
<li>What is the distribution of <em>x</em>?</li>
</ul></li>
<li>Is our graph about <strong>two things at a time</strong>?
<ul class="incremental">
<li>What is the relationship of <em>x</em> and <em>y</em>?</li>
<li>How are <em>x</em> and <em>y</em> associated?</li>
</ul></li>
</ul>
</div>
<div id="data" class="slide section level1">
<h1>Data</h1>
<p>We are going to use the famous &quot;iris&quot; data collected by Edgar Anderson in the early 20th Century.</p>
<pre class='stata'>. 
. use "iris.dta", clear

. 
. summarize

    Variable │        Obs        Mean    Std. Dev.       Min        Max
─────────────┼─────────────────────────────────────────────────────────
Sepal_Length │        150    5.843333    .8280661        4.3        7.9
 Sepal_Width │        150    3.057333    .4358663          2        4.4
Petal_Length │        150       3.758    1.765298          1        6.9
 Petal_Width │        150    1.199333    .7622377         .1        2.5
     Species │        150           2    .8192319          1          3

. 
</pre>
<blockquote>
<p>The <code>iris</code> data set has 5 variables.</p>
</blockquote>
</div>
<div id="species-of-iris" class="slide section level1">
<h1>Species of Iris</h1>
<blockquote>
<p>Iris species images courtesy <a href="https://www.wikipedia.org/">Wikipedia</a>.</p>
</blockquote>
<div class="figure">
<img src="iris-species.png" alt="Iris Species" />
<p class="caption">Iris Species</p>
</div>
</div>
<div id="basic-graphs" class="slide section level1">
<h1>Basic Graphs</h1>
</div>
<div id="continuous-variable-histogram" class="slide section level1">
<h1>Continuous Variable <code>histogram</code></h1>
<pre class='stata'>. 
. histogram Petal_Length
(bin=12, start=1, width=.49166667)

. 
</pre>

<div class="figure">
<img src="myhistogram.png" alt="Histogram of Petal Width" />
<p class="caption">Histogram of Petal Width</p>
</div>
</div>
<div id="categorical-variable-graph-bar" class="slide section level1">
<h1>Categorical Variable <code>graph bar</code></h1>
<pre class='stata'>. 
. graph bar, over(Species)

. 
</pre>

<div class="figure">
<img src="mybargraph.png" alt="Bar Graph of Species" />
<p class="caption">Bar Graph of Species</p>
</div>
</div>
<div id="continuous-by-continuous-twoway" class="slide section level1">
<h1>Continuous by Continuous <code>twoway</code></h1>
<pre class='stata'>. 
. twoway scatter Petal_Length Petal_Width

. 
</pre>

<div class="figure">
<img src="myscatter.png" alt="Scatterplot" />
<p class="caption">Scatterplot</p>
</div>
</div>
<div id="categorical-by-categorical-graph-bar" class="slide section level1">
<h1>Categorical by Categorical <code>graph bar</code></h1>
<pre class='stata'>. 
. recode Petal_Length ///
> (min/3.758 = 0 "below mean") ///
> (3.758/max = 1 "above mean"), ///
> generate(Petal_Group) // dichotomize Petal_Length
(150 differences between Petal_Length and Petal_Group)

.     
. graph bar, over(Species) over(Petal_Group)

. 
</pre>

<div class="figure">
<img src="mybargraph2.png" alt="Bar Graph of Species by Category of Petal Length" />
<p class="caption">Bar Graph of Species by Category of Petal Length</p>
</div>
</div>
<div id="continuous-by-categorical-graph-bar" class="slide section level1">
<h1>Continuous by Categorical <code>graph bar</code></h1>
<pre class='stata'>. 
. graph bar Petal_Length, over(Species)

. 
</pre>

<div class="figure">
<img src="mybargraph3.png" alt="Bar Graph of Petal Length by Species" />
<p class="caption">Bar Graph of Petal Length by Species</p>
</div>
</div>
<div id="titles-and-labels-title...-xtitle...-ytitle..." class="slide section level1">
<h1>Titles and Labels <code>, title(...) xtitle(...) ytitle(...)</code></h1>
<pre class='stata'>. 
. twoway scatter Petal_Length Petal_Width, scheme(s1rcolor) ///
> title("Petal Length by Petal Width") ///
> xtitle("Petal Width") ytitle("Petal Width") ///
> caption("Iris Data") 

. 
</pre>

<div class="figure">
<img src="graphtitleslabels.png" alt="Graph With Titles and Labels" />
<p class="caption">Graph With Titles and Labels</p>
</div>
</div>
<div id="better-graphing-with-schemes-scheme..." class="slide section level1">
<h1>Better Graphing With Schemes <code>,scheme(...)</code></h1>
<p>The easiest method to make better Stata graphs is through the use of predefined Stata graphing schemes.</p>
</div>
<div id="pre-defined-schemes" class="slide section level1">
<h1>Pre-Defined Schemes</h1>
<p>Some schemes, e.g. <code>economist</code>, <code>sj</code> and <code>s1rcolor</code> are pre-installed with Stata.</p>
</div>
<div id="economist-scheme" class="slide section level1">
<h1>Economist Scheme</h1>
<pre class='stata'>. 
. twoway scatter Petal_Length Petal_Width, scheme(economist)

. 
</pre>

<div class="figure">
<img src="econscatter.png" alt="Scatterplot with Economist Scheme" />
<p class="caption">Scatterplot with Economist Scheme</p>
</div>
</div>
<div id="stata-journal-scheme" class="slide section level1">
<h1><em>Stata Journal</em> Scheme</h1>
<pre class='stata'>. 
. twoway scatter Petal_Length Petal_Width, scheme(sj)

. 
</pre>

<div class="figure">
<img src="sjscatter.png" alt="Scatterplot with Stata Journal Scheme" />
<p class="caption">Scatterplot with <em>Stata Journal</em> Scheme</p>
</div>
</div>
<div id="s1rcolor-scheme" class="slide section level1">
<h1><code>s1rcolor</code> Scheme</h1>
<pre class='stata'>. 
. twoway scatter Petal_Length Petal_Width, scheme(s1rcolor)

. 
</pre>

<div class="figure">
<img src="s1rcolorscatter.png" alt="Scatterplot with s1rcolor Scheme" />
<p class="caption">Scatterplot with <code>s1rcolor</code> Scheme</p>
</div>
</div>
<div id="user-written-schemes" class="slide section level1">
<h1>User Written Schemes</h1>
<p>Two of the best user written schemes are <code>plottig</code> and <code>lean2</code>.</p>
<p>Use the <code>findit</code> command e.g. <code>findit lean2</code> to find these schemes.</p>
</div>
<div id="lean2-scheme" class="slide section level1">
<h1><code>lean2</code> Scheme</h1>
<pre class='stata'>. 
. twoway scatter Petal_Length Petal_Width, scheme(lean2)

. 
</pre>

<div class="figure">
<img src="lean2scatter.png" alt="Scatterplot with lean2 Scheme" />
<p class="caption">Scatterplot with <code>lean2</code> Scheme</p>
</div>
</div>
<div id="michigan-graph-scheme" class="slide section level1">
<h1>Michigan graph scheme</h1>
<p>I have written a <code>michigan</code> graph scheme described <a href="https://agrogan1.github.io/Stata/">here</a>.</p>
<pre class='stata'>. 
. twoway (scatter Petal_Length Petal_Width) /// 
> (lfit Petal_Length Petal_Width), scheme(michigan)

. 
</pre>

<div class="figure">
<img src="michiganscatter.png" alt="Scatterplot with michigan Scheme" />
<p class="caption">Scatterplot with <code>michigan</code> Scheme</p>
</div>
</div>
<div id="schemes-as-a-base-for-further-tweaking" class="slide section level1">
<h1>Schemes as a Base for Further Tweaking</h1>
<p>Schemes can be used as a base that can then be further modified.</p>
<pre class='stata'>. 
. twoway (scatter Petal_Length Petal_Width, msymbol(0) mcolor(red)) ///
> (lfit Petal_Length Petal_Width), ///
> scheme(lean2) 
(note:  named style 0 not found in class symbol, default attributes used)

. 
</pre>

<div class="figure">
<img src="lean2Ascatter.png" alt="Modified Scatterplot with lean2 Scheme as a Base" />
<p class="caption">Modified Scatterplot with <code>lean2</code> Scheme as a Base</p>
</div>
</div>
<div id="even-more-tweaks" class="slide section level1">
<h1>Even More Tweaks</h1>
<p>Based upon an example at <a href="https://blog.stata.com/2018/10/02/scheming-your-way-to-your-favorite-graph-style/" class="uri">https://blog.stata.com/2018/10/02/scheming-your-way-to-your-favorite-graph-style/</a></p>
<pre class='stata'>. 
. twoway scatter Sepal_Length Sepal_Width Petal_Width Petal_Length, /// 
> color(%50 %50 %50) /// transparency 
> title("Multiple Iris Characteristics") /// title
> scheme(s1rcolor) // scheme

. 
</pre>

<div class="figure">
<img src="s1rcolorAscatter.png" alt="Modified Scatterplot with s1rcolor Scheme as a Base" />
<p class="caption">Modified Scatterplot with <code>s1rcolor</code> Scheme as a Base</p>
</div>
</div>
<div id="more-information" class="slide section level1">
<h1>More Information</h1>
<p>See also <a href="https://agrogan1.github.io/Stata/two-page-stata/TwoPageStata.pdf">Two Page Stata</a></p>
<p>Created by <a href="agrogan@umich.edu" class="uri">agrogan@umich.edu</a></p>
</div>
</div>
</body>
</html>
